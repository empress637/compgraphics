<!DOCTYPE html>
<html>

  <body>
    <h2 class="red-text" style="color: green;">
      <a href="https://empress637.github.io/">
        Home
      </a>
    </h2>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datasource@0.1.0"></script>
    <script src='https://d3js.org/d3.v7.min.js'></script>

    <canvas id="chart" width="100px" height="100px"></canvas>

    <script>
      function makeChart(titanic) {
        var titanicLabels = ["Survived", "Perished"];
        var statusData  = d3.csv("/titanic.csv", function(csv) {
        csv = titanic.filter(function(row) {
        return row['Survived'] == 1 || row['Survived'] == '0';
    });

    var Chart = d3.select("body")
        // ...
        .selectAll("rect")
        .data(csv)
        // ...
});
          

        var chart = new Chart('chart', {
          type: "horizontalBar",
          options: {
            maintainAspectRatio: false,
            legend: {
              display: false
            }
          },
          data: {
            labels: titanicLabels,
            datasets: [{
              data: statusData
            }]
          }
        });
      }

      // Request data using D3
      d3
        .csv("/titanic.csv")
        .then(makeChart);

    </script>


  </body>

</html>
