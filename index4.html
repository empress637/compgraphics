<head>
	<!-- Load plotly.js into the DOM https://plotly.com/javascript/parallel-categories-diagram/-->
    <meta charset="utf-8" />
  <!-- Include Plotly.js file from CDN -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
      </script>
</head>

<body>
    <h2 class="red-text" style="color: green;">
      <a href="https://empress637.github.io/">
        Home
      </a>
    </h2>

<div id='myDiv'></div>
	<script>

//https://medium.com/free-code-camp/an-introduction-to-plotly-js-an-open-source-graphing-library-c036a1876e2e		
Plotly.d3.csv('/titanic.csv', function(err, rows){
Plotly.plot('myDiv', data);

		
var survivedArray = unpack(rows, 'Survived');
var status = [...new Set(survivedArray)];
		
function unpack(rows, key) {
    return rows.map(function(row) { return row[key]; });
  }
		
var data = status.map(function(status) {
    var rowsFiltered = rows.filter(function(row) {
        return (row.Survived === 1);
    });
    return {
       	type: 'bar',
       	name: status,
        orientation: 'h',
	y: unpack(rowsFiltered, 'Survived'),
  	x: ['Survived', 'Perished']
    };
  });	 });

		


		
	</script>

</body>
