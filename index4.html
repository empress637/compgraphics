<!DOCTYPE html>
<html>

<body>
    <h2 class="red-text" style="color: green;">
      <a href="https://empress637.github.io/">
        Home
      </a>
    </h2>
  
<div heigth = 1000px >
  <canvas id="chart"></canvas>
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script>

<script>
  // Request data using D3
d3.csv("/titanic.csv")
  .then(makeChart);
  
function makeChart(titanic) {
  var status = titanic.map(function(d) {
    return d.Survived;
  });
 // var statusData = titanic.map(function(d) {
   // return +d.Survived;
  //});

  var statusData = titanic.map(function(d) { return d.filter(function(d){ return d.Survived == 1 })).length}

 var genderColors = titanic.map(function(d) {return d.Sex === 'female' ? '#F15F36' : '#19A0AA';});

var chart = new Chart('chart', {
    type: 'horizontalBar',
    options: {
      maintainAspectRatio: false,
      legend: {
        display: false
      },
      scales: {
        xAxes: [
          {
            scaleLabel: {
              display: true,
              labelString: 'Weeks at No.1',
              fontSize: 16
            }
          }
        ]
      }
    },
    data: {
      labels: status,
      datasets: [
        {
          data: statusData,
          backgroundColor: genderColors
        }
      ]
    }
  })
}


</script>

</body>
</html>
