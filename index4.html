<!DOCTYPE html>
<html>

<body>
    <h2 class="red-text" style="color: green;">
      <a href="https://empress637.github.io/">
        Home
      </a>
    </h2>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datasource@0.1.0"></script>
    <script src='https://d3js.org/d3.v7.min.js'></script>

 <canvas id="myChart" width="100" height="100"></canvas>

<script>
  // Request data using D3
d3.csv("/titanic.csv")
  .then(makeChart);
    
      // Plot the data with Chart.js
      function makeChart(titanic) {
        var statusLabels = titanic.map(function (d) {
          return ['Survived','Perished'];
        });
        var statusData = titanic.map(function (d) {
          return [(titanic.filter(function(d){ return d.Survived == 1 })).length,
                  (titanic.filter(function(d){ return d.Survived == 0 })).length];
        });
         var genderColors = titanic.map(function(d) {return d.Sex === 'female' ? '#F15F36' : '#19A0AA';});

        var chart = new Chart("myChart", {
          type: "horizontalBar",
          data: {
            labels: statusLabels,
            datasets: [
              {
                data: statusData,
                backgroundColor: genderColors
              }
            ]
          }
        });
      }

</script>

</body>
</html>
