<head>
	<!-- Load plotly.js into the DOM https://plotly.com/javascript/parallel-categories-diagram/-->
	<script src='https://cdn.plot.ly/plotly-2.26.0.min.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
</head>

<body>
	    <h2 class="red-text" style="color: green;">
      <a href="https://empress637.github.io/">
        Home
      </a>
    </h2>

	 <script type="text/javascript">
        window.PlotlyConfig = {
          MathJaxConfig: 'local'
        };
      </script>
      <script src="https://cdn.plot.ly/plotly-2.4.2.min.js">
      </script>
	
	<div id='myDiv' class="plotly-graph-div"
      style=" width: 100%; height: 100%;">
		<script>
			 window.PLOTLYENV = window.PLOTLYENV || {};


d3.csv(
  "./titanic.csv",
  function(titanicData) {
    var classDim = {
      values: titanicData.map(function(row) {return row['Pclass']}),
      categoryorder: 'category ascending',
      label: "Pclass"
    };

   var survivalDim = {
      values: titanicData.map(function(row) {return row['Survived']}),
      label: "Survived",
      categoryarray: [0, 1],
      ticktext: ['perished', 'survived'],
    };

   var genderDim = {
      values: titanicData.map(function(row) {return row['Sex']}),
      label: "Sex"
    };
	  
    var color = classDim.values;
    var colorscale = [[3, 'red'], [2, 'green'], [1, 'blue']];

    // Build Traces
    var traces = [
      {type: 'parcats',
       dimensions: [classDim,  survivalDim,genderDim],
       line: {color: color,
              colorscale: colorscale,
	     	shape: 'hspline'},
       hoveron: 'color',
       hoverinfo: 'count+probability',
       labelfont: {size: 14},
       arrangement: 'freeform'
      }
    ];
	
    var layout = {width: 1000};

    // Make plot

	    Plotly.newPlot('myDiv', traces, layout)
            Plotly.animate('myDiv', null)
  });
	</script>
</div>
</body>
